(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b907f43"],{6925:function(t,a,e){},8439:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"blog-page"},[e("div",{staticClass:"searchBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"请输入关键字"},domProps:{value:t.keyword},on:{input:function(a){a.target.composing||(t.keyword=a.target.value)}}}),e("button",{on:{click:function(a){return t.goSearch()}}},[t._v("搜索")]),t.flag?e("button",{on:{click:function(a){return t.goList()}}},[t._v("返回全部")]):t._e()]),e("div",{staticClass:"tabCon"},t._l(t.searchTab,(function(a,s){return e("div",{key:s,staticClass:"tabCon-item",on:{click:function(e){return t.dSearch(a)}}},[t._v(" "+t._s(a)+" ("+t._s(t.tabSum[a])+") ")])})),0),e("van-list",{attrs:{finished:t.finished,"immediate-check":!1,"finished-text":"不要划拉划拉啦，已经没有了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.list,(function(a,s){return e("div",{key:s,staticClass:"blp-item",on:{click:function(e){return t.goRead(a.id)}}},[t._v(" "+t._s(a.title)+" ")])})),0)],1)},n=[],i=(e("66fa"),e("31d5")),o=(e("22ec"),e("bf33")),l=e("365c"),r={components:{[o["a"].name]:o["a"],[i["a"].name]:i["a"]},data(){return{flag:!1,list:[],start_page:0,pages:25,loading:!1,finished:!1,firstEnter:!1,keyword:"",toast:"",timer:"",searchTab:["js","vue","php","yii","nginx","mysql","nuxt","linux","node","flutter","RN","electron","echarts","浙里办"],tabSum:""}},created(){const t=this;o["a"].loading({mask:!0,message:"加载中..."}),t.getTab(),Object(l["a"])({start_page:t.start_page,pages:t.pages}).then(a=>{t.start_page++,t.loading=!1,t.list=t.list.concat(a.data.data),console.log("拼接后的数组",t.list),1*t.list.length>=1*a.data.total_page&&(t.finished=!0),t.firstEnter=!0}).catch(()=>{}).finally(()=>{o["a"].clear()})},methods:{goRead(t){this.$router.push({path:"/readBlog",query:{id:t}})},getTab(){const t=this;Object(l["m"])({tab:t.searchTab}).then(a=>{t.tabSum=a.data.data,console.log(t.tabSum)}).catch(t=>{})},goList(){this.flag=!1,this.finished=!1,this.start_page=0,this.list=[],this.keyword="";const t=this;Object(l["a"])({start_page:t.start_page,pages:t.pages}).then(a=>{t.start_page++,t.loading=!1,t.list=t.list.concat(a.data.data),console.log("拼接后的数组",t.list),1*t.list.length>=1*a.data.total_page&&(t.finished=!0),t.firstEnter=!0}).catch(()=>{})},dSearch(t){this.keyword=t,this.goSearch()},goSearch(){const t=this;if(!this.keyword)return Object(o["a"])("请输入内容"),!1;const a=o["a"].loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"loading... 3 秒"});let e=3;const s=setInterval(()=>{e--,e>=0?a.message=`loading... ${e} 秒`:e<0&&e>=-3?a.message="好吧，我的服务器是捡来的":e<-3&&e>-6?a.message="或许是你的网络问题，我关掉了嗷":e<=-6&&(o["a"].clear(),clearInterval(s))},1e3);console.log(this.keyword),Object(l["l"])({keyword:t.keyword}).then(a=>{clearInterval(s),o["a"].clear(),0==a.data.errcode?(t.flag=!0,t.finished=!0,t.list=a.data.data,t.start_page=0):Object(o["a"])(a.data.errmsg)}).catch(t=>{clearInterval(s),Object(o["a"])(t.data.errmsg)})},onLoad(){if(this.firstEnter){const t=this;Object(l["a"])({start_page:t.start_page,pages:t.pages}).then(a=>{t.start_page++,t.loading=!1,t.list=t.list.concat(a.data.data),console.log("拼接后的数组",t.list),1*t.list.length>=1*a.data.total_page&&(t.finished=!0)}).catch(()=>{})}}}},c=r,d=(e("8eda"),e("cba8")),g=Object(d["a"])(c,s,n,!1,null,null,null);a["default"]=g.exports},"8eda":function(t,a,e){"use strict";e("6925")}}]);